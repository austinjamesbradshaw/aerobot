import Head from "next/head"
import React, { FC } from "react"
import { BlitzLayout, withBlitz } from "@blitzjs/next"
import {
  Box,
  Center,
  Flex,
  HStack,
  IconButton,
  Image,
  Text,
  VStack,
  useBreakpointValue,
} from "@chakra-ui/react"
import { useRouter } from "next/router"
import { FiChevronLeft } from "react-icons/fi"

const Layout: BlitzLayout<{ title?: string; children?: React.ReactNode }> = ({
  title,
  children,
}) => {
  return (
    <Center h="100vh" w="100vw" bg={["none", "orange.100"]}>
      <VStack
        bg="white"
        borderColor={["none", "gray.200"]}
        borderRadius={["none", "3xl"]}
        borderWidth={[0, 8]}
        boxShadow={["none", "lg"]}
        direction="column"
        h={["100%", "844px"]}
        minH={["100%", "700px"]}
        maxH={["100%", "90vh"]}
        spacing={0}
        w={["100%", "390px"]}
      >
        <Head>
          <title>{title || "aerobot"}</title>
          <link rel="icon" href="/favicon.ico" />
        </Head>
        <Navbar />
        {children}
      </VStack>
    </Center>
  )
}

const Navbar = () => {
  const router = useRouter()
  const isHome = router.pathname === "/"
  return (
    <HStack
      align="start"
      as="section"
      justify={isHome ? "center" : "space-between"}
      px={6}
      py={4}
      w="100%"
    >
      {!isHome ? (
        <IconButton
          aria-label="back"
          icon={<FiChevronLeft />}
          onClick={() => router.push("/")}
          size="md"
          variant="ghost"
        />
      ) : null}
      <svg
        width="120"
        height="38"
        viewBox="0 0 120 38"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M32.2541 13.0789C32.2149 12.6791 32.0328 12.3068 31.7413 12.0303C31.4497 11.7539 31.0683 11.5918 30.6669 11.5739C27.4828 11.4057 24.1466 11.3039 20.6784 11.2838L20.6767 8.84327C21.301 8.57403 21.8131 8.09756 22.1267 7.49435C22.4402 6.89115 22.5359 6.1982 22.3976 5.5326C22.2593 4.86699 21.8954 4.26954 21.3675 3.84119C20.8396 3.41285 20.18 3.17986 19.5002 3.18161C18.8204 3.18337 18.162 3.41974 17.6363 3.85081C17.1106 4.28187 16.7499 4.88119 16.615 5.5475C16.4801 6.21381 16.5794 6.90625 16.896 7.50783C17.2127 8.10941 17.7273 8.58324 18.3529 8.84926L18.3541 11.2862C14.8304 11.3056 11.4469 11.4136 8.22091 11.5919C7.81939 11.6093 7.43763 11.7709 7.14569 12.0472C6.85376 12.3234 6.67124 12.6956 6.63164 13.0956C6.46745 14.9133 6.36815 16.885 6.36655 18.9885C6.36495 21.092 6.47445 23.063 6.64025 24.8784C6.6797 25.2786 6.86207 25.6512 7.15395 25.928C7.44583 26.2047 7.82767 26.3669 8.22946 26.3849C11.7879 26.5753 15.5336 26.6821 19.4521 26.6786C23.3707 26.6751 27.1143 26.5626 30.6755 26.3669C31.0769 26.349 31.4584 26.1867 31.7497 25.9098C32.041 25.633 32.2225 25.2602 32.2608 24.8602C32.425 23.0424 32.5243 21.0707 32.5259 18.9673C32.5275 16.8638 32.4204 14.8978 32.2541 13.0789ZM11.9082 21.6031C11.4045 21.604 10.9118 21.4556 10.4925 21.1764C10.0732 20.8973 9.74609 20.5001 9.55262 20.035C9.35915 19.5699 9.308 19.0579 9.40562 18.5637C9.50324 18.0695 9.74526 17.6154 10.1011 17.2588C10.4568 16.9023 10.9104 16.6592 11.4044 16.5605C11.8983 16.4618 12.4104 16.5118 12.8759 16.7043C13.3415 16.8967 13.7394 17.2229 14.0195 17.6416C14.2995 18.0603 14.4491 18.5526 14.4493 19.0564C14.4497 19.3904 14.3843 19.7213 14.2568 20.0301C14.1293 20.339 13.9423 20.6196 13.7063 20.8561C13.4703 21.0926 13.1901 21.2803 12.8815 21.4085C12.573 21.5366 12.2423 21.6027 11.9082 21.6031ZM27.1335 21.5822C26.6341 21.582 26.146 21.4336 25.7309 21.1561C25.3157 20.8785 24.9922 20.484 24.8011 20.0226C24.6101 19.5612 24.5601 19.0535 24.6575 18.5637C24.7549 18.0739 24.9953 17.624 25.3483 17.2707C25.7013 16.9175 26.1511 16.6768 26.6409 16.5792C27.1306 16.4815 27.6384 16.5312 28.0999 16.722C28.5614 16.9127 28.956 17.2361 29.2338 17.651C29.5117 18.066 29.6603 18.554 29.6609 19.0534C29.6612 19.3855 29.5961 19.7144 29.4693 20.0213C29.3424 20.3282 29.1563 20.607 28.9215 20.8419C28.6868 21.0768 28.4081 21.2631 28.1012 21.3901C27.7944 21.5171 27.4656 21.5824 27.1335 21.5822Z"
          fill="#DD6B20"
        />
        <path
          d="M42.8244 25.9098H39.046L43.9537 11.3644H48.6341L53.5418 25.9098H49.7634L46.3472 15.0291H46.2335L42.8244 25.9098ZM42.3202 20.1854H50.2179V22.8558H42.3202V20.1854ZM59.5237 26.1158C58.3826 26.1158 57.3977 25.8909 56.5691 25.4411C55.7453 24.9865 55.1108 24.3402 54.6657 23.5022C54.2254 22.6593 54.0052 21.6579 54.0052 20.4979C54.0052 19.371 54.2277 18.3861 54.6728 17.5433C55.1179 16.6958 55.7453 16.0377 56.5549 15.5689C57.3646 15.0954 58.3186 14.8587 59.4171 14.8587C60.1936 14.8587 60.9039 14.9794 61.5478 15.2209C62.1918 15.4624 62.7481 15.8199 63.2168 16.2933C63.6856 16.7668 64.0502 17.3516 64.3106 18.0476C64.571 18.7389 64.7012 19.532 64.7012 20.4269V21.2933H55.2197V19.2763H61.4697C61.465 18.907 61.3774 18.5779 61.2069 18.2891C61.0364 18.0003 60.8021 17.7754 60.5038 17.6144C60.2102 17.4486 59.8717 17.3658 59.4882 17.3658C59.0999 17.3658 58.7519 17.4534 58.4441 17.6286C58.1364 17.799 57.8925 18.0334 57.7126 18.3317C57.5327 18.6253 57.438 18.9591 57.4285 19.3331V21.3857C57.4285 21.8307 57.5161 22.2214 57.6913 22.5575C57.8665 22.889 58.115 23.147 58.437 23.3317C58.759 23.5164 59.1425 23.6087 59.5876 23.6087C59.8953 23.6087 60.1747 23.5661 60.4257 23.4808C60.6766 23.3956 60.892 23.2701 61.072 23.1044C61.2519 22.9387 61.3868 22.7351 61.4768 22.4936L64.6657 22.586C64.5331 23.3009 64.2419 23.9236 63.7921 24.4539C63.3471 24.9794 62.7623 25.389 62.0379 25.6825C61.3134 25.9714 60.4754 26.1158 59.5237 26.1158ZM66.475 25.9098V15.0007H69.8486V16.9894H69.9622C70.1611 16.2697 70.4854 15.7346 70.9352 15.3843C71.3851 15.0291 71.9083 14.8516 72.5048 14.8516C72.6658 14.8516 72.8315 14.8634 73.002 14.8871C73.1725 14.906 73.3311 14.9368 73.4779 14.9794V17.9979C73.3121 17.9411 73.0943 17.8961 72.8244 17.8629C72.5593 17.8298 72.3226 17.8132 72.1142 17.8132C71.7023 17.8132 71.3306 17.9056 70.9992 18.0902C70.6725 18.2701 70.4144 18.5235 70.225 18.8502C70.0404 19.1721 69.948 19.5509 69.948 19.9865V25.9098H66.475ZM79.4189 26.1158C78.2731 26.1158 77.2882 25.8814 76.4644 25.4127C75.6452 24.9392 75.0131 24.281 74.5681 23.4382C74.1277 22.5907 73.9075 21.6082 73.9075 20.4908C73.9075 19.3686 74.1277 18.3861 74.5681 17.5433C75.0131 16.6958 75.6452 16.0377 76.4644 15.5689C77.2882 15.0954 78.2731 14.8587 79.4189 14.8587C80.5647 14.8587 81.5472 15.0954 82.3663 15.5689C83.1902 16.0377 83.8223 16.6958 84.2627 17.5433C84.7077 18.3861 84.9303 19.3686 84.9303 20.4908C84.9303 21.6082 84.7077 22.5907 84.2627 23.4382C83.8223 24.281 83.1902 24.9392 82.3663 25.4127C81.5472 25.8814 80.5647 26.1158 79.4189 26.1158ZM79.4402 23.495C79.8569 23.495 80.2096 23.3672 80.4985 23.1115C80.7873 22.8558 81.0074 22.5007 81.159 22.0462C81.3152 21.5916 81.3933 21.0661 81.3933 20.4695C81.3933 19.8634 81.3152 19.3331 81.159 18.8786C81.0074 18.424 80.7873 18.0689 80.4985 17.8132C80.2096 17.5575 79.8569 17.4297 79.4402 17.4297C79.0093 17.4297 78.6448 17.5575 78.3465 17.8132C78.0529 18.0689 77.828 18.424 77.6717 18.8786C77.5202 19.3331 77.4445 19.8634 77.4445 20.4695C77.4445 21.0661 77.5202 21.5916 77.6717 22.0462C77.828 22.5007 78.0529 22.8558 78.3465 23.1115C78.6448 23.3672 79.0093 23.495 79.4402 23.495ZM86.7094 25.9098V11.3644H90.1824V16.8686H90.2534C90.3955 16.5372 90.5967 16.2176 90.8571 15.9098C91.1223 15.6021 91.4584 15.3511 91.8656 15.157C92.2776 14.9581 92.77 14.8587 93.3429 14.8587C94.1005 14.8587 94.8083 15.0575 95.4665 15.4553C96.1294 15.853 96.6644 16.4662 97.0716 17.2948C97.4788 18.1234 97.6824 19.1792 97.6824 20.4624C97.6824 21.6982 97.4859 22.7327 97.0929 23.5661C96.7047 24.3994 96.1791 25.0244 95.5162 25.4411C94.8581 25.8577 94.1265 26.0661 93.3216 26.0661C92.7724 26.0661 92.2965 25.9761 91.894 25.7962C91.4916 25.6163 91.153 25.3795 90.8784 25.086C90.6085 24.7924 90.4002 24.4775 90.2534 24.1414H90.1469V25.9098H86.7094ZM90.1114 20.4553C90.1114 21.0424 90.1895 21.5538 90.3458 21.9894C90.5067 22.425 90.7364 22.7635 91.0347 23.005C91.3377 23.2417 91.6999 23.3601 92.1213 23.3601C92.5475 23.3601 92.9097 23.2417 93.208 23.005C93.5063 22.7635 93.7312 22.425 93.8827 21.9894C94.0389 21.5538 94.1171 21.0424 94.1171 20.4553C94.1171 19.8682 94.0389 19.3592 93.8827 18.9283C93.7312 18.4974 93.5063 18.1636 93.208 17.9269C92.9144 17.6901 92.5522 17.5718 92.1213 17.5718C91.6952 17.5718 91.333 17.6878 91.0347 17.9198C90.7364 18.1518 90.5067 18.4832 90.3458 18.9141C90.1895 19.345 90.1114 19.8587 90.1114 20.4553ZM104.595 26.1158C103.449 26.1158 102.464 25.8814 101.64 25.4127C100.821 24.9392 100.189 24.281 99.7438 23.4382C99.3035 22.5907 99.0833 21.6082 99.0833 20.4908C99.0833 19.3686 99.3035 18.3861 99.7438 17.5433C100.189 16.6958 100.821 16.0377 101.64 15.5689C102.464 15.0954 103.449 14.8587 104.595 14.8587C105.741 14.8587 106.723 15.0954 107.542 15.5689C108.366 16.0377 108.998 16.6958 109.438 17.5433C109.884 18.3861 110.106 19.3686 110.106 20.4908C110.106 21.6082 109.884 22.5907 109.438 23.4382C108.998 24.281 108.366 24.9392 107.542 25.4127C106.723 25.8814 105.741 26.1158 104.595 26.1158ZM104.616 23.495C105.033 23.495 105.385 23.3672 105.674 23.1115C105.963 22.8558 106.183 22.5007 106.335 22.0462C106.491 21.5916 106.569 21.0661 106.569 20.4695C106.569 19.8634 106.491 19.3331 106.335 18.8786C106.183 18.424 105.963 18.0689 105.674 17.8132C105.385 17.5575 105.033 17.4297 104.616 17.4297C104.185 17.4297 103.821 17.5575 103.522 17.8132C103.229 18.0689 103.004 18.424 102.848 18.8786C102.696 19.3331 102.62 19.8634 102.62 20.4695C102.62 21.0661 102.696 21.5916 102.848 22.0462C103.004 22.5007 103.229 22.8558 103.522 23.1115C103.821 23.3672 104.185 23.495 104.616 23.495ZM118.043 15.0007V17.5575H111.161V15.0007H118.043ZM112.602 12.3871H116.076V22.4794C116.076 22.6925 116.109 22.8653 116.175 22.9979C116.246 23.1257 116.348 23.2181 116.48 23.2749C116.613 23.327 116.772 23.353 116.956 23.353C117.089 23.353 117.228 23.3412 117.375 23.3175C117.527 23.2891 117.64 23.2654 117.716 23.2465L118.242 25.7536C118.076 25.8009 117.842 25.8601 117.539 25.9311C117.24 26.0022 116.883 26.0471 116.466 26.0661C115.652 26.1039 114.953 26.0093 114.371 25.782C113.793 25.55 113.351 25.1901 113.043 24.7024C112.74 24.2147 112.593 23.6016 112.602 22.8629V12.3871Z"
          fill="black"
        />
      </svg>
      {!isHome ? <Box boxSize={10} /> : null}
    </HStack>
  )
}

export default Layout
